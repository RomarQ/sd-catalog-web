<ui:composition
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core">

    <div class="container">
        <h:form id="formCategories">
            <ul id="categories" data-stage="Categories" class="flex-container">

                <ui:repeat value="#{categoriesMB.categories}" var="cat">
                    <ui:include src="/pages/components/categoryItem.xhtml"/>
                </ui:repeat>

                <h:panelGroup rendered="#{profileMB.user.role eq 'ADMIN'}">
                    <li class="flex-item add" >
                        <h:commandLink >
                            <span class="glyphicon glyphicon-plus"/>
                            <f:ajax event="click" listener="#{categoryEditorMB.createCategory}" onevent="openCategoryEditor"
                                    render=":formCategoryModal"/>
                        </h:commandLink>
                    </li>
                </h:panelGroup>

            </ul>
        </h:form>
    </div>

</ui:composition>