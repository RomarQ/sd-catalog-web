<ui:composition
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:p="http://primefaces.org/ui">

    <div class="container">
        <h:form id="formProducts">
            <ul id="products" data-stage="Products" class="flex-container">

                <ui:repeat value="#{productsMB.products}" var="prod">
                    <ui:include src="/pages/components/productItem.xhtml"/>
                </ui:repeat>

                <h:panelGroup rendered="#{profileMB.user != null}">
                    <li class="flex-item add" >
                        <h:commandLink >
                            <span class="glyphicon glyphicon-plus"/>
                            <f:ajax event="click" listener="#{productEditorMB.createProduct}" onevent="openProductEditor"
                                    render=":formProductModal"/>
                        </h:commandLink>
                    </li>
                </h:panelGroup>

            </ul>
        </h:form>
    </div>


</ui:composition>